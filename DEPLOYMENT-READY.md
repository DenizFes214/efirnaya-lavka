# ‚úÖ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Æ –ù–ê AMVERA

## üéØ –°–¢–ê–¢–£–°: –ì–û–¢–û–í –ö 3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –±–æ—Ç–∞** (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è URL):
   ```bash
   curl -X POST "https://api.telegram.org/bot8340741653:AAGFC-nW1BnLobjhgXSKRjNY83HkU4pCqrw/setWebhook" \
        -H "Content-Type: application/json" \
        -d '{"url": "https://efirnayalavka-aleksei57.amvera.io/telegram/webhook"}'
   ```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É**:
   - Health check: `https://efirnayalavka-aleksei57.amvera.io/api/health`–ê–ù–ò–Æ ‚úÖ

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **SQLite3 ‚Üí better-sqlite3** ‚úÖ
   - –ó–∞–º–µ–Ω–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–Ω—É—é sqlite3 –Ω–∞ better-sqlite3
   - –£–±—Ä–∞–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
   - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —É—è–∑–≤–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚úÖ
   - multer: 1.4.5-lts.1 ‚Üí 2.0.0-rc.4 
   - express: 4.19.2 ‚Üí 4.21.0
   - –£–±—Ä–∞–ª–∏ deprecated –ø–∞–∫–µ—Ç—ã (moment, uuid@3.x)

3. **Dockerfile –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω** ‚úÖ
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è node:18-bullseye-slim
   - –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—é—Ç—Å—è native –º–æ–¥—É–ª–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

4. **AMVERA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚úÖ
   - amvera.yml —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - Healthcheck –Ω–∞ /api/health
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - –ü–æ—Ä—Ç 80 –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ **Docker —Å–±–æ—Ä–∫–∞** - –æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
- ‚úÖ **Health Check** - API –æ—Ç–≤–µ—á–∞–µ—Ç `{"ok":true}`
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **API endpoints** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

### üìã –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø:

#### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- ‚úÖ `package.json` - –æ–±–Ω–æ–≤–ª–µ–Ω, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ `Dockerfile` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è AMVERA  
- ‚úÖ `amvera.yml` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `.dockerignore` - –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `backend/db.js` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç better-sqlite3
- ‚úÖ `backend/server.js` - —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –Ω–æ–≤—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

#### Telegram –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ –ë–æ—Ç: `@efirnayalavka_bot` 
- ‚úÖ –¢–æ–∫–µ–Ω: `8340741653:AAGFC-nW1BnLobjhgXSKRjNY83HkU4pCqrw`
- ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã: 985246360, 1562870920
- ‚úÖ –ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Telegram WebApp –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏—è–º
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ API endpoints

### üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Æ:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–¥ –Ω–∞ AMVERA**
   - –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞–∫ –µ—Å—Ç—å
   - AMVERA –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `amvera.yml`

2. **–î–æ–∂–¥–∞—Ç—å—Å—è —Å–±–æ—Ä–∫–∏**
   - Dockerfile –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–µ—Ä–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –±–æ—Ç–∞** (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è URL):
   ```bash
   curl -X POST "https://api.telegram.org/bot8340741653:AAGFC-nW1BnLobjhgXSKRjNY83HkU4pCqrw/setWebhook" \
        -H "Content-Type: application/json" \
        -d '{"url": "https://efirnayalavka.amvera.io/telegram/webhook"}'
   ```

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
   - Health check: `https://efirnayalavka-aleksei57.amvera.io/api/health`
   - Telegram –±–æ—Ç: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` @efirnayalavka_bot
   - WebApp: –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ –±–æ—Ç–∞

### üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite —Å –∞–≤—Ç–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
**–§–∞–π–ª—ã**: –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/app/backend/uploads/`
**–õ–æ–≥–∏**: –î–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–∞–Ω–µ–ª–∏ AMVERA
**–ü–æ—Ä—Ç**: 80 (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ amvera.yml)

### üéâ –†–ï–ó–£–õ–¨–¢–ê–¢:

–ü—Ä–æ–µ–∫—Ç **üåø –≠—Ñ–∏—Ä–Ω–∞—è –õ–∞–≤–∫–∞** –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ AMVERA!

–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞.
Docker –æ–±—Ä–∞–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

**–ú–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é! üöÄ**